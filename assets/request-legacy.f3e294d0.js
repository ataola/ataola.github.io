!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}System.register(["./index-legacy.27b87c2c.js","./index-legacy.ff4088e1.js"],(function(e){"use strict";var n,o;return{setters:[function(e){n=e.a},function(e){o=e.M}],execute:function(){var i,a,s,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r=e,a=[{key:"init",value:function(){this.axiosInstance=n.create({baseURL:"/api",timeout:1e4}),this.initInterceptors()}},{key:"initInterceptors",value:function(){this.axiosInstance.defaults.withCredentials=!0,this.axiosInstance.defaults.headers["X-Requested-With"]="XMLHttpRequest",this.axiosInstance.defaults.headers.post["Content-Type"]="application/json",this.axiosInstance.interceptors.request.use((function(e){var t=localStorage.getItem("ACCESS_TOKEN");return t&&e&&e.headers&&(e.headers.Authorization="Bearer "+t),e}),(function(e){alert(e)})),this.axiosInstance.interceptors.response.use((function(t){var r=t.data,n=r.code,o=r.message,i=r.data;return 200===t.status&&0===n||e.errorHandle(t,o),i}),(function(t){var r=t.response;return r?e.errorHandle(r):o({text:"网络连接异常,请稍后再试!",type:"error"}),Promise.reject(null==r?void 0:r.data)}))}},{key:"errorHandle",value:function(e,t){switch(e.status){case 401:case 403:break;case 404:o({text:"请求的资源不存在",type:"error"});break;default:t&&o({text:t,type:"error"})}}}],(i=null)&&t(r.prototype,i),a&&t(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}();i=u,s=void 0,(a=r(a="axiosInstance"))in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,e("R",u)}}}))}();
