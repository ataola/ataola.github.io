var z=Object.defineProperty,D=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var E=(e,t,s)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,A=(e,t)=>{for(var s in t||(t={}))U.call(t,s)&&E(e,s,t[s]);if(B)for(var s of B(t))J.call(t,s)&&E(e,s,t[s]);return e},$=(e,t)=>D(e,G(t));var R=(e,t,s)=>new Promise((p,c)=>{var a=i=>{try{l(s.next(i))}catch(v){c(v)}},o=i=>{try{l(s.throw(i))}catch(v){c(v)}},l=i=>i.done?p(i.value):Promise.resolve(i.value).then(a,o);l((s=s.apply(e,t)).next())});import{_ as F,s as W}from"./index.68b90f16.js";import{d as O,U as q,i as h,o as d,c as m,a as r,e as T,m as L,r as H,W as I,y as P,t as Y,F as j,b as k,n as x,X as K,j as Z,Y as Q}from"./vendor.12b96e50.js";import{R as C}from"./request.bb1ed75c.js";const X=O({name:"NavigationItem",props:{value:{type:Object,default:()=>({})}},setup(e,{emit:t,slots:s,attrs:p}){return{navItem:q(e,"value"),display:o=>W(o)}}}),ee={class:"nav-box"},te={class:"left"},se={class:"right"},ae={class:"title"},ne=["href"],ie=["title"];function oe(e,t,s,p,c,a){const o=h("Icon");return d(),m("div",ee,[r("div",te,[T(o,{value:e.navItem.avatar},null,8,["value"])]),r("div",se,[r("div",ae,[r("a",{href:e.navItem.url,target:"_blank"},L(e.navItem.name),9,ne)]),r("div",{class:"desc",title:e.navItem.description},L(e.display(e.navItem.description)),9,ie)])])}var M=F(X,[["render",oe],["__scopeId","data-v-8672def6"]]);const N={javascript:"JS",typescript:"TS",html:"HTML",design:"DESIGN",vue:"Vue",react:"REACT",angular:"ANGULAR",css:"CSS",babel:"BABEL",graphql:"GRAPHQL",nodejs:"NODEJS",forum:"FORUM",deno:"DENO",visualization:"VISUALIZATION",util:"UTIL",weekly:"WEEKLY",tools:"TOOLS",website:"WEBSITE",zjt:"ZJT613",friendlink:"FRIENDLINK",elasticsearch:"ElasticSearch",webassembly:"WEBASSEMBLY",serverless:"SERVERLESS"},re={getNavigation:"/v1/getNavigation"};C.init();class ce{static getNavigation(){return C.axiosInstance({url:re.getNavigation,method:"get",desc:"\u83B7\u53D6\u5BFC\u822A\u6807\u7B7E\u5217\u8868",isJSON:!1}).then(t=>t).catch(t=>{console.log(t)})}}const le=O({name:"Navigation",components:{[M.name]:M},setup(e,{emit:t,slots:s,attrs:p}){const{proxy:c}=Q(),a=H({sideBarItem:{text:"TS",value:"typescript"},navigationItems:[],page:1,size:9}),o=K("navigatorInfo");o&&(a.size=o.isMobile?4:9);const l=I(()=>{let n=[];const{navigationItems:_}=a;[...new Set(_.map(u=>{const{type:g}=u;return g}))].sort((u,g)=>N[u].length-N[g].length).forEach((u,g)=>{const b={text:N[u]||u,title:u,value:u};g%2==0?n.unshift(b):n.push(b)});const S=n.length,y=S>>1;return n.unshift(...n.splice(y,S-y)),n}),i=I(()=>{const n=f.value.length%3;return{"1":[1,2],"2":[1],"3":[],"0":[]}[n]}),v=I(()=>a.navigationItems.filter(n=>n.type===a.sideBarItem.value)),f=I(()=>a.navigationItems.filter(n=>n.type===a.sideBarItem.value).slice(0,a.page*a.size)),V=n=>{a.sideBarItem=l.value.find(_=>_.value===n)||{text:"TS",value:"typescript"},a.page=1},w=()=>{if(v.value.length===f.value.length)return c==null?void 0:c.$message({text:"\uFF3C(\u3007O\u3007)\uFF0F\u6CA1\u6709\u66F4\u591A\u4E86",type:"warn"});a.page++};return P(()=>R(this,null,function*(){try{const n=yield ce.getNavigation();Object.assign(a.navigationItems,n)}catch(n){console.log(n)}})),$(A({},Y(a)),{sideBarItems:l,navigationItemRestArr:i,navigationFilterItems:v,curNavigationItems:f,changeSideBar:V,loadMore:w})}}),ue={class:"container"},de={class:"main"},ve={class:"main-left"},me={class:"sidebar-box"},pe={class:"main-right"},ge={key:0,class:"more"};function _e(e,t,s,p,c,a){const o=h("side-bar"),l=h("NavigationItem");return d(),m("div",ue,[r("div",de,[r("div",ve,[r("div",me,[T(o,{items:e.sideBarItems,value:e.sideBarItem.value,onInput:e.changeSideBar},null,8,["items","value","onInput"])])]),r("div",pe,[(d(!0),m(j,null,k(e.curNavigationItems,i=>(d(),Z(l,{key:i.id,value:i},null,8,["value"]))),128)),(d(!0),m(j,null,k(e.navigationItemRestArr,i=>(d(),m("div",{key:i,class:"flex-space-fix"}))),128)),e.navigationFilterItems.length>e.size?(d(),m("div",ge,[r("button",{class:"button",onClick:t[0]||(t[0]=(...i)=>e.loadMore&&e.loadMore(...i))},"More")])):x("",!0)])])])}var ye=F(le,[["render",_e],["__scopeId","data-v-224c8869"]]);export{ye as default};
