!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}System.register(["./index-legacy.a74b981b.js"],(function(n){"use strict";var t,o,r,i,a,u,l,d,c,p,s,f,m,y,g,b,v,h;return{setters:[function(e){t=e.O,o=e.w,r=e.d,i=e.A,a=e.j,u=e.K,l=e.P,d=e.o,c=e.c,p=e.a,s=e.Q,f=e.u,m=e.R,y=e.F,g=e.S,b=e.D,v=e.h,h=e.v}],execute:function(){var q,k={all:q=q||new Map,on:function(e,n){var t=q.get(e);t?t.push(n):q.set(e,[n])},off:function(e,n){var t=q.get(e);t&&(n?t.splice(t.indexOf(n)>>>0,1):q.set(e,[]))},emit:function(e,n){var t=q.get(e);t&&t.slice().map((function(e){e(n)})),(t=q.get("*"))&&t.slice().map((function(t){t(e,n)}))}};function S(){var e=o(),n=e.uid,r=e.emit,i={emit:k.emit,on:k.on,off:k.off},a=i.on,u=i.emit,l=i.off,d="__initd__".concat(n);return a(d,(function(e){r("initd",e)})),t((function(){r("unload"),l(d)})),{ready:function(e,n){u(d,{map:e,instance:n,BMapGL:window.BMapGL})}}}var M={};function w(e){var n=e.key,t=e.src,o=e.addCalToWindow;return M[n]||(M[n]=new Promise((function(e,r){var i=document.createElement("script"),a=function(){e(),window.document.body.removeChild(i)};o?window[n]=a:i.onload=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(i.onload=null,a())},i.src=t,i.type="text/javascript",i.defer=!0,i.onerror=r,document.body.appendChild(i)}))),M[n]}var C="//mapopen.bj.bcebos.com/github/BMapGLLib/TrackAnimation/src/TrackAnimation.min.js",A="https://code.bdstatic.com/npm/mapvgl@1.0.0-beta.159/dist/mapvgl.min.js",T="https://mapv.baidu.com/build/mapv.min.js",Z="https://unpkg.com/mapv-three@1.0.1/dist/mapvthree.umd.js",O={TrackAnimation:function(e){return w({src:e||C,addCalToWindow:!1,key:"trackAnimation"})},Mapvgl:function(e){return w({src:e||A,addCalToWindow:!1,key:"Mapvgl"})},Mapv:function(e){return w({src:e||T,addCalToWindow:!1,key:"Mapv"})},MapvThree:function(e){return w({src:e||Z,addCalToWindow:!1,key:"MapvThree"})}};function D(e){return function(n,t){(n===t||n!==t&&JSON.stringify(n)!==JSON.stringify(t))&&e(n)}}function B(e){console.error("[Vue3 BaiduMap GL] ".concat(e))}function j(e){return"[object String]"===Object.prototype.toString.call(e)}var z={style:{color:"#999",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},L=r(Object.assign(Object.assign({},{name:"BMap"}),{props:{ak:{type:String,required:!1},width:{type:[String,Number],required:!1,default:"100%"},height:{type:[String,Number],required:!1,default:"550px"},center:{type:[String,Object],required:!1,default:function(){return{lat:39.915185,lng:116.403901}}},mapType:{type:null,required:!1,default:"BMAP_NORMAL_MAP"},zoom:{type:Number,required:!1,default:14},heading:{type:Number,required:!1,default:0},tilt:{type:Number,required:!1,default:0},minZoom:{type:Number,required:!1,default:0},maxZoom:{type:Number,required:!1,default:21},noAnimation:{type:Boolean,required:!1,default:!1},mapStyleId:{type:String,required:!1},mapStyleJson:{type:Array,required:!1},showControls:{type:Boolean,required:!1,default:!1},plugins:{type:null,required:!1},pluginsSourceLink:{type:Object,required:!1},displayOptions:{type:Object,required:!1},restrictCenter:{type:Boolean,required:!1,default:!0},enableTraffic:{type:Boolean,required:!1,default:!1},enableDragging:{type:Boolean,required:!1,default:!0},enableInertialDragging:{type:Boolean,required:!1,default:!0},enableScrollWheelZoom:{type:Boolean,required:!1,default:!1},enableContinuousZoom:{type:Boolean,required:!1,default:!0},enableResizeOnCenter:{type:Boolean,required:!1,default:!0},enableDoubleClickZoom:{type:Boolean,required:!1,default:!1},enableKeyboard:{type:Boolean,required:!1,default:!0},enablePinchToZoom:{type:Boolean,required:!1,default:!0},enableAutoResize:{type:Boolean,required:!1,default:!0},onClick:{type:null,required:!1},onDblclick:{type:null,required:!1},onRightclick:{type:null,required:!1},onRightdblclick:{type:null,required:!1},onMaptypechange:{type:null,required:!1},onMousemove:{type:null,required:!1},onMouseover:{type:null,required:!1},onMouseout:{type:null,required:!1},onMovestart:{type:null,required:!1},onMoving:{type:null,required:!1},onMoveend:{type:null,required:!1},onZoomstart:{type:null,required:!1},onZoomend:{type:null,required:!1},onAddoverlay:{type:null,required:!1},onAddcontrol:{type:null,required:!1},onRemovecontrol:{type:null,required:!1},onRemoveoverlay:{type:null,required:!1},onClearoverlays:{type:null,required:!1},onDragstart:{type:null,required:!1},onDragging:{type:null,required:!1},onDragend:{type:null,required:!1},onAddtilelayer:{type:null,required:!1},onRemovetilelayer:{type:null,required:!1},onLoad:{type:null,required:!1},onResize:{type:null,required:!1},onHotspotclick:{type:null,required:!1},onHotspotover:{type:null,required:!1},onHotspotout:{type:null,required:!1},onTilesloaded:{type:null,required:!1},onTouchstart:{type:null,required:!1},onTouchmove:{type:null,required:!1},onTouchend:{type:null,required:!1},onLongpress:{type:null,required:!1}},emits:["initd","unload","pluginReady","click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],setup:function(n,r){var h=r.expose,q=r.emit,k=n,M=i(),C=null,A=i(!1),T=S().ready,Z=o(),L=Z.uid,R=Z.proxy,P=a((function(){return j(k.width)?k.width:"".concat(k.width,"px")})),I=a((function(){return j(k.height)?k.height:"".concat(k.height,"px")})),x=k.ak||R.$baiduMapAk,_=k.plugins&&R.$baiduMapPlugins?Object.assign(R.$baiduMapPlugins,k.plugins):k.plugins||R.$baiduMapPlugins,W=k.pluginsSourceLink&&R.$baiduMapPluginsSourceLink?Object.assign(R.$baiduMapPluginsSourceLink,k.pluginsSourceLink):k.pluginsSourceLink||R.$baiduMapPluginsSourceLink||{};x||B("missing required props: ak");var N="_initBMap".concat(x);function $(){k.mapStyleId?C.setMapStyleV2({styleId:k.mapStyleId}):k.mapStyleJson&&C.setMapStyleV2({styleJson:k.mapStyleJson})}function E(e){e?C.setTrafficOn():C.setTrafficOff()}function G(e){var n,t;"string"==typeof e?C.centerAndZoom(e,k.zoom):C.centerAndZoom((n=e.lng,t=e.lat,new BMapGL.Point(n,t)),k.zoom)}function J(e){C.setDisplayOptions(e||{})}function K(e){C.setZoom(e,{noAnimation:k.noAnimation})}function H(e){void 0!==window[e]&&C.setMapType(window[e])}function V(e){C.setHeading(e)}function F(e){C.setTilt(e)}function Q(e){e?C.enableDragging():C.disableDragging()}function U(e){e?C.enableInertialDragging():C.disableInertialDragging()}function X(e){e?C.enableScrollWheelZoom():C.disableScrollWheelZoom()}function Y(e){e?C.enableContinuousZoom():C.disableContinuousZoom()}function ee(e){e?C.enableResizeOnCenter():C.disableResizeOnCenter()}function ne(e){e?C.enableDoubleClickZoom():C.disableDoubleClickZoom()}function te(e){e?C.enableKeyboard():C.disableKeyboard()}function oe(e){e?C.enablePinchToZoom():C.disablePinchToZoom()}function re(e){e?C.enableAutoResize():C.disableAutoResize()}return u((function(){w({src:"//api.map.baidu.com/api?type=webgl&v=1.0&ak=".concat(x,"&callback=").concat(N),addCalToWindow:!0,key:N}).then((function(){var n=k.restrictCenter,t=k.minZoom,o=k.maxZoom,r=k.mapType,i=k.enableAutoResize,a=k.showControls,u=k.center;M.value&&(C=new BMapGL.Map(M.value,{restrictCenter:n,minZoom:t,maxZoom:o,mapType:window[r],enableAutoResize:i,showControls:a}),G(u),function(){var e=k.enableDragging,n=k.enableInertialDragging,t=k.enableScrollWheelZoom,o=k.enableContinuousZoom,r=k.enableResizeOnCenter,i=k.enableDoubleClickZoom,a=k.enableKeyboard,u=k.enablePinchToZoom,l=k.enableAutoResize,d=k.enableTraffic,c=k.displayOptions,p=k.mapType,s=k.zoom,f=k.tilt,m=k.heading;K(s),F(f),E(d),V(m),H(p),te(a),Q(e),re(l),oe(u),Y(o),ee(r),ne(i),X(t),U(n),J(c)}(),$(),b((function(){return k.zoom}),K),b((function(){return k.tilt}),F),b((function(){return k.heading}),V),b((function(){return k.center}),D(G),{deep:!0}),b((function(){return k.mapStyleId}),$),b((function(){return k.mapStyleJson}),D($),{deep:!0}),b((function(){return k.displayOptions}),D(J),{deep:!0}),b((function(){return k.mapType}),H),b((function(){return k.enableTraffic}),E),b((function(){return k.enableDragging}),Q),b((function(){return k.enableInertialDragging}),U),b((function(){return k.enableScrollWheelZoom}),X),b((function(){return k.enableContinuousZoom}),Y),b((function(){return k.enableResizeOnCenter}),ee),b((function(){return k.enableDoubleClickZoom}),ne),b((function(){return k.enableKeyboard}),te),b((function(){return k.enablePinchToZoom}),oe),b((function(){return k.enableAutoResize}),re),function(e,n,t){for(var o=function(){var o=i[r];if(/^on/.test(o)&&e[o]){var a=o.replace(/^on/,"").toLocaleLowerCase();t.addEventListener(a,(function(e){var t,o;e.preventDefault=e.preventDefault||(null===(t=e.domEvent)||void 0===t?void 0:t.preventDefault.bind(e.domEvent)),e.stopPropagation=e.stopPropagation||(null===(o=e.domEvent)||void 0===o?void 0:o.stopPropagation.bind(e.domEvent)),n(a,e)}))}},r=0,i=Object.keys(e);r<i.length;r++)o()}(k,q,C),A.value||(A.value=!0,g((function(){return T(C,C)})),_&&function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e(new Set(n)).reduce((function(e,n){var o;return"string"==typeof n&&(o=O[n])?e.push(o(t[n])):"function"==typeof n&&e.push(n()),e}),[]);return Promise.all(o)}(_,W).then((function(){q("pluginReady",C)})).catch((function(e){B("plugins load error: "+e)}))))})).catch(B)})),t((function(){null==C||C.destroy()})),h({getMapInstance:function(){return C},getBaseMapOptions:function(){return k},resetCenter:function(){return G(k.center)},setDragging:Q}),l("getMapInstance",(function(){return C})),l("parentUidGetter",L),l("baseMapSetCenterAndZoom",(function(e){return G(e)})),l("baseMapSetDragging",(function(e){return Q(e)})),l("getBaseMapOptions",(function(){return k})),function(e,n){return d(),c(y,null,[p("div",{class:"baidu-map-container",ref_key:"mapContainer",ref:M,style:m([{width:f(P),height:f(I)},{background:"#f1f1f1",position:"relative",overflow:"hidden"}])},[s(e.$slots,"loading",{isLoading:!f(A)},(function(){return[p("div",z,v(f(A)?"":"map loading..."),1)]}))],4),s(e.$slots,"default")],64)}}}));L.__file="packages/components/map/index.vue";n("default",r({__name:"map1",setup:function(e){return function(e,n){return d(),h(f(L),{ak:"cwHsf5i2fAQAlijOyELx5COtkFhItaSm",height:"100vh","enable-scroll-wheel-zoom":!0})}}}))}}}))}();
