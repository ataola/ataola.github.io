var w=Object.defineProperty,z=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var y=(e,t,a)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,A=(e,t)=>{for(var a in t||(t={}))J.call(t,a)&&y(e,a,t[a]);if(b)for(var a of b(t))G.call(t,a)&&y(e,a,t[a]);return e},O=(e,t)=>z(e,U(t));var R=(e,t,a)=>new Promise((p,c)=>{var s=o=>{try{l(a.next(o))}catch(v){c(v)}},i=o=>{try{l(a.throw(o))}catch(v){c(v)}},l=o=>o.done?p(o.value):Promise.resolve(o.value).then(s,i);l((a=a.apply(e,t)).next())});import{_ as T,s as W}from"./index.42887b8d.js";import{d as $,U as H,i as f,o as d,c as m,a as r,e as L,m as F,r as P,W as I,z as Y,t as q,F as j,b as k,n as K,X as x,j as Z,Y as Q}from"./vendor.405bcdb7.js";import{R as C}from"./request.a158a352.js";const X=$({name:"NavigationItem",props:{value:{type:Object,default:()=>({})}},setup(e,{emit:t,slots:a,attrs:p}){return{navItem:H(e,"value"),display:i=>W(i)}}}),ee={class:"nav-box"},te={class:"left"},ae={class:"right"},se={class:"title"},ne=["href"],oe=["title"];function ie(e,t,a,p,c,s){const i=f("Icon");return d(),m("div",ee,[r("div",te,[L(i,{value:e.navItem.avatar},null,8,["value"])]),r("div",ae,[r("div",se,[r("a",{href:e.navItem.url,target:"_blank"},F(e.navItem.name),9,ne)]),r("div",{class:"desc",title:e.navItem.description},F(e.display(e.navItem.description)),9,oe)])])}var M=T(X,[["render",ie],["__scopeId","data-v-8672def6"]]);const N={javascript:"JS",typescript:"TS",html:"HTML",design:"DESIGN",vue:"Vue",react:"REACT",angular:"ANGULAR",css:"CSS",babel:"BABEL",graphql:"GRAPHQL",nodejs:"NODEJS",forum:"FORUM",deno:"DENO",visualization:"VISUALIZATION",util:"UTIL",weekly:"WEEKLY",tools:"TOOLS",website:"WEBSITE",zjt:"ZJT613",friendlink:"FRIENDLINK",elasticsearch:"ElasticSearch",webassembly:"WEBASSEMBLY",serverless:"SERVERLESS",tutorial:"TUTORIAL",docker:"DOCKER",download:"DOWNLOAD",python:"PYTHON",rust:"RUST",test:"TEST"},re={getNavigation:"/v1/getNavigation"};C.init();class ce{static getNavigation(){return C.axiosInstance({url:re.getNavigation,method:"get",desc:"\u83B7\u53D6\u5BFC\u822A\u6807\u7B7E\u5217\u8868",isJSON:!1}).then(t=>t).catch(t=>{console.log(t)})}}const le=$({name:"Navigation",components:{[M.name]:M},setup(e,{emit:t,slots:a,attrs:p}){const{proxy:c}=Q(),s=P({sideBarItem:{text:"JS",value:"javascript"},navigationItems:[],page:1,size:12}),i=x("navigatorInfo");i&&(s.size=i.isMobile?4:12);const l=I(()=>{let n=[];const{navigationItems:_}=s;[...new Set(_.map(u=>{const{type:g}=u;return g}))].sort((u,g)=>N[u].length-N[g].length).forEach((u,g)=>{const E={text:N[u]||u,title:u,value:u};g%2==0?n.unshift(E):n.push(E)});const S=n.length,B=S>>1;return n.unshift(...n.splice(B,S-B)),n}),o=I(()=>{const n=h.value.length%3;return{"1":[1,2],"2":[1],"3":[],"0":[]}[n]}),v=I(()=>s.navigationItems.filter(n=>n.type===s.sideBarItem.value)),h=I(()=>s.navigationItems.filter(n=>n.type===s.sideBarItem.value).slice(0,s.page*s.size)),D=n=>{s.sideBarItem=l.value.find(_=>_.value===n)||{text:"JS",value:"javascript"},s.page=1},V=()=>{if(v.value.length===h.value.length)return c==null?void 0:c.$message({text:"\uFF3C(\u3007O\u3007)\uFF0F\u6CA1\u6709\u66F4\u591A\u4E86",type:"warn"});s.page++};return Y(()=>R(this,null,function*(){try{const n=yield ce.getNavigation();Object.assign(s.navigationItems,n)}catch(n){console.log(n)}})),O(A({},q(s)),{sideBarItems:l,navigationItemRestArr:o,navigationFilterItems:v,curNavigationItems:h,changeSideBar:D,loadMore:V})}}),ue={class:"container"},de={class:"main"},ve={class:"main-left"},me={class:"sidebar-box"},pe={class:"main-right"},ge={key:0,class:"more"};function _e(e,t,a,p,c,s){const i=f("side-bar"),l=f("NavigationItem");return d(),m("div",ue,[r("div",de,[r("div",ve,[r("div",me,[L(i,{items:e.sideBarItems,value:e.sideBarItem.value,onInput:e.changeSideBar},null,8,["items","value","onInput"])])]),r("div",pe,[(d(!0),m(j,null,k(e.curNavigationItems,o=>(d(),Z(l,{key:o.id,value:o},null,8,["value"]))),128)),(d(!0),m(j,null,k(e.navigationItemRestArr,o=>(d(),m("div",{key:o,class:"flex-space-fix"}))),128)),e.navigationFilterItems.length>e.size?(d(),m("div",ge,[r("button",{class:"button",onClick:t[0]||(t[0]=(...o)=>e.loadMore&&e.loadMore(...o))},"More")])):K("",!0)])])])}var Be=T(le,[["render",_e],["__scopeId","data-v-5cef813e"]]);export{Be as default};
